webpackJsonp([1],{KwYt:function(t,e){},MZ8O:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=n("VU/8")({name:"App"},o,!1,function(t){n("PpWl")},null,null).exports,s=n("/ocq"),l=n("Dd8w"),d=n.n(l),r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{attrs:{item:t.item}},[n("el-header",[n("h3",[t._v("Student Profile")])]),t._v(" "),n("hr"),t._v(" "),n("el-main",[n("h4",[n("el-row",{attrs:{span:24}},[n("el-col",{attrs:{span:24}},[n("span",[t._v("Name: ")]),t._v(" "),n("span",[t._v(t._s(t.item.FullName))])])],1),t._v(" "),n("el-col",{attrs:{span:12}},[n("span",[t._v("Roll No:")]),t._v(" "),n("span",[t._v(t._s(t.item.RollNo))])]),t._v(" "),n("el-row",{attrs:{span:24}},[n("el-col",{attrs:{span:12}},[t._v("\n        Course:\n          "),n("span",[t._v(t._s(t.item.ClassNameToDisplay))])])],1)],1),t._v(" "),n("el-row",{attrs:{span:24,gutter:10}},[n("el-col",{attrs:{span:12}},[n("h5",[t._v("Mobile")]),t._v(" "),n("span",[t._v(t._s(t.item.Mobile))])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("h5",[t._v("Home Phone")]),t._v(" "),n("span",[t._v(t._s(t.item.HomePhone))])]),t._v(" "),n("el-col",{attrs:{span:24}},[n("h5",[t._v("Email")]),t._v(" "),n("span",[t._v(t._s(t.item.Email))])])],1)],1),t._v(" "),n("hr")],1)},staticRenderFns:[]};var u=n("VU/8")({props:{item:{}}},r,!1,function(t){n("MZ8O")},null,null).exports,c=n("NYxO"),m={props:{student:{}},data:function(){return{attended:!1}},computed:d()({},Object(c.c)({timeTable:function(t){return t.timeTable.studentTimeTable},attendance:function(t){return t.attendance.attendance},loadingTimeTable:function(t){return t.timeTable.loading},loading:function(t){return t.attendance.loading}})),methods:d()({},Object(c.b)("timeTable",["loadTodaysSchedule"]),Object(c.b)("attendance",["recordAttendance","isStudentPresent"]),{getClasses:function(t){console.log("index is : "+t);var e=t%3;return 0===e?"col-md-3 col-md-offset-1":2===e?"col-md-4":"col-md-3"},present:function(t,e){var n=this;if(t&&e){var a={student:t,timeTableId:e.TimeTableId};this.recordAttendance(a).then(function(t){"success"===t?(n.$toaster.success("Attendance Recorded."),n.loadTodaysSchedule(n.student.RollNo)):"AlreadyPresent"===t?n.$toaster.info("You are already marked as present"):(n.$toaster.error("Fail to record Attendance!"),n.$toaster.error(t))})}},isPresent:function(t,e){var n=this,a={studentId:t,timeTableId:e};return this.isStudentPresent(a).then(function(t){return t&&(n.attended=!0),t}).catch(function(t){return console.log(t),!1})}})},f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTimeTable,expression:"loadingTimeTable"}]},[n("el-container",{attrs:{student:t.student}},[n("el-header",[n("h2",[t._v("Today's Attendance")])]),t._v(" "),n("el-main",t._l(t.timeTable,function(e,a){return n("el-row",{key:a,attrs:{span:24,gutter:10}},[n("el-col",{attrs:{span:24}},[n("span",[t._v("Subject:")]),t._v(" "),n("h3",[n("span",[t._v(t._s(e.SubjectName))])])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("span",[t._v("Faculty:")]),t._v(" "),n("span",[t._v(t._s(e.FacultyName))])]),t._v(" "),n("el-col",{attrs:{span:12}},[n("span",[t._v("Course:")]),t._v(" "),n("span",[t._v(t._s(e.ClassName))])]),t._v(" "),n("el-col",{attrs:{span:24}},[n("hr")]),t._v(" "),n("el-col",{attrs:{span:24}},[n("span",[t._v("Start Time:")]),t._v(" "),n("span",[t._v(t._s(e.StartTimeToDisplay))])]),t._v(" "),n("el-col",{attrs:{span:24}},[n("span",[t._v("End Time:")]),t._v(" "),n("span",[t._v(t._s(e.EndTimeToDisplay))])]),t._v(" "),n("el-col",{attrs:{span:24}},[n("hr")]),t._v(" "),n("el-row",{attrs:{span:24}},[n("el-button",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{type:"primary",icon:"el-icon-check"},on:{click:function(n){t.present(t.student,e)}}},[t._v("\n              Present\n            ")])],1),t._v(" "),n("br"),t._v(" "),n("hr")],1)}))],1)],1)},staticRenderFns:[]};var h={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal-fade"}},[t.show?n("div",{staticClass:"modal-backdrop"},[n("div",{staticClass:"modal"},[n("header",{staticClass:"modal-header"},[t._t("header",[t._v("\n         This is the default tile!\n\n         "),n("button",{staticClass:"btn-close",attrs:{type:"button"},on:{click:t.close}},[t._v("\n           x\n         ")])])],2),t._v(" "),n("section",{staticClass:"modal-body"},[t._t("body",[t._v("\n         I'm the default body!\n       ")])],2),t._v(" "),n("footer",{staticClass:"modal-footer"},[t._t("footer",[t._v("\n           I'm the default footer!\n\n           "),n("button",{staticClass:"btn-green",attrs:{type:"button"},on:{click:t.close}},[t._v("\n             Close me!\n         ")])])],2)])]):t._e()])},staticRenderFns:[]};var v={components:{StudentCard:u,AttendanceCard:n("VU/8")(m,f,!1,function(t){n("zzfa")},null,null).exports,Modal:n("VU/8")({name:"modal",props:{show:""},methods:{close:function(){this.$emit("close")}}},h,!1,function(t){n("ahDV")},null,null).exports},data:function(){return{showLogin:!0,studentToView:{},inputRollNo:""}},computed:Object(c.c)({student:function(t){return t.student.student},loading:function(t){return t.student.loading}}),methods:d()({},Object(c.b)("student",["getStudentByRollNo"]),Object(c.b)("timeTable",["loadTodaysSchedule"]),{login:function(){var t=this;this.showLogin=!1,this.getStudentByRollNo(this.inputRollNo).then(function(e){if("success"===e){t.$toaster.success("Student login successfull."),t.loadTodaysSchedule(t.student.RollNo)}else t.showLogin=!0,t.$toaster.error(e)})}})},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"card container",attrs:{"element-loading-text":"Loading...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.5)"}},[n("student-card",{attrs:{item:t.student}}),t._v(" "),n("attendance-card",{attrs:{student:t.student}}),t._v(" "),n("modal",{attrs:{show:t.showLogin},on:{close:function(e){t.showLogin=!0}}},[n("template",{slot:"header"},[n("span",[t._v("Login")])]),t._v(" "),n("template",{slot:"body"},[n("span",[t._v("Please Enter Roll no to login")]),t._v(" "),n("div",{staticClass:"item-input"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputRollNo,expression:"inputRollNo"}],attrs:{type:"text",placeholder:"Enter Roll No here"},domProps:{value:t.inputRollNo},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.login(e):null},input:function(e){e.target.composing||(t.inputRollNo=e.target.value)}}})])]),t._v(" "),n("template",{slot:"footer"},[n("el-button",{staticClass:"item-input-button",attrs:{type:"primay",placeholder:"RollNo"},on:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v("Login")])],1)],2)],1)},staticRenderFns:[]};var g=n("VU/8")(v,p,!1,function(t){n("KwYt")},null,null).exports,_={data:function(){return{showLogin:!0,inputRollNo:""}},computed:Object(c.c)({student:function(t){return t.student.student},loading:function(t){return t.student.loading}}),methods:d()({},Object(c.b)("student",["getStudentByRollNo"]),Object(c.b)("timeTable",["loadTodaysSchedule"]),{login:function(){var t=this,e=self.$f7;this.getStudentByRollNo(this.inputRollNo).then(function(n){if("success"===n){e.dialog.alert("Student login successfull.",function(){t.loadTodaysSchedule(t.student.RollNo)}),e.loginScreen.close()}else{e.dialog.alert("Student login failed.",function(){t.$toaster.error(n)})}})}})},T={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("f7-page",{attrs:{"no-toolbar":"","no-navbar":"","no-swipeback":"","login-screen":"",opened:t.showLogin}},[n("f7-login-screen-title",[t._v("CLA Student Login")]),t._v(" "),n("f7-list",{attrs:{form:""}},[n("f7-list-item",[n("f7-label",[t._v("Roll No")]),t._v(" "),n("f7-input",{attrs:{type:"text",placeholder:"Roll No"},on:{input:function(e){t.inputRollNo=e.target.value}}})],1)],1),t._v(" "),n("f7-list",[n("f7-list-button",{on:{click:t.login}},[t._v("Login")]),t._v(" "),n("f7-block-footer",[t._v("Please Enter Roll no to Proceed.")])],1)],1)},staticRenderFns:[]};var b=n("VU/8")(_,T,!1,function(t){n("ZLYk")},null,null).exports;a.default.use(s.a);var S=new s.a({routes:[{path:"/Login",name:"Login",component:b},{path:"/",name:"Attendace",component:g}]}),y=n("woOf"),x=n.n(y),N=n("Zrlr"),R=n.n(N),w={content:{},appRootPath:window.AppRoutePath},A={updateContent:function(t,e){(0,t.commit)("setContent",e)}},C={setContent:function(t,e){t.content=e}},j=function t(){R()(this,t),this.state=x()({},w),this.actions=x()({},A),this.mutations=x()({},C),this.modules={}},E=(n("sax8"),{withCredentials:!1}),F="192.168.181.1/CLAServer",k="http://"+F+"/classes/",P=E,$={namespaced:!0,state:{courses:{},loading:!1},actions:{loadAllCourses:function(t){var e=t.commit;return e("loading",!0),this._vm.axios.get(k+"index",P).then(function(t){return e("load",t?t.data.result:{}),"loaded"},function(t){return console.error(t),e("load",{}),"loading failed "+t})},addCourse:function(t,e){var n=t.commit;return n("loading",!0),this._vm.axios.post(k+"add",{courseToAdd:e},P).then(function(t){return"success"===t.data.result&&n("add"),t.data.result}).catch(function(t){return n("loading",!1),t})},deleteCourse:function(t,e){var n=t.commit;return n("loading",!0),this._vm.axios.post(k+"delete",{id:e},P).then(function(t){return"success"===t.data.result&&n("remove"),t.data.result}).catch(function(t){return n("loading",!1),t})},editCourse:function(t,e){var n=t.commit;return n("loading",!0),this._vm.axios.post(k+"edit",{classToEdit:e},P).then(function(t){return"success"===t.data.result&&n("edit"),t.data.result}).catch(function(t){return n("loading",!1),t})}},mutations:{load:function(t,e){t.courses=e,t.loading=!1},add:function(t){t.loading=!1,this.dispatch("course/loadAllCourses")},remove:function(t){t.loading=!1,this.dispatch("course/loadAllCourses")},edit:function(t){t.loading=!1,this.dispatch("course/loadAllCourses")},loading:function(t,e){t.loading=e}}},L="http://"+F+"/Faculties/",O=E,I={namespaced:!0,state:{faculties:{},loading:!1},actions:{loadAllFaculties:function(t){var e=t.commit;return e("loading",!0),this._vm.axios.get(L+"index",O).then(function(t){return e("load",t?t.data.result:{}),"loaded"},function(t){return console.error(t),e("load",{}),"loading failed"+t})},addFaculty:function(t,e){var n=t.commit;return n("loading",!0),this._vm.axios.post(L+"add",{facultyToAdd:e}).then(function(t){return"success"===t.data.result&&n("add"),t.data.result}).catch(function(t){return n("loading",!1),t})},deleteFaculty:function(t,e){var n=t.commit;return n("loading",!0),this._vm.axios.post(L+"delete",{id:e}).then(function(t){return"success"===t.data.result&&n("remove"),t.data.result}).catch(function(t){return n("loading",!1),t})},editFaculty:function(t,e){var n=t.commit;return n("loading",!0),this._vm.axios.post(L+"edit",{facultyToEdit:e}).then(function(t){return"success"===t.data.result&&n("edit"),t.data.result}).catch(function(t){return n("loading",!1),t})}},mutations:{load:function(t,e){t.faculties=e,t.loading=!1},add:function(t){t.loading=!1,this.dispatch("faculty/loadAllFaculties")},remove:function(t){t.loading=!1,this.dispatch("faculty/loadAllFaculties")},edit:function(t){t.loading=!1,this.dispatch("faculty/loadAllFaculties")},loading:function(t,e){t.loading=e}}},V="http://"+F+"/Students/",M=E,U={namespaced:!0,state:{students:{},student:{},loading:!1},actions:{loadAllStudents:function(t){var e=t.commit;return e("loading",!0),this._vm.axios.get(V+"index",M).then(function(t){return e("load",t?t.data.result:{}),"loaded"}).catch(function(t){return console.error(t),e("load",{}),"loading failed "+t})},getStudentByRollNo:function(t,e){var n=t.commit;return n("loading",!0),this._vm.axios.post(V+"GetStudentByRollNo",{rollNo:e},M).then(function(t){return"Student Not found"===t.data.result?(n("loadStudent",{}),"Student not found!! Please try again."):(n("loadStudent",t.data.result),"success")}).catch(function(t){return console.error(t),n("loadStudent",{}),t})},addStudent:function(t,e){var n=t.commit;return n("loading",!0),this._vm.axios.post(V+"add",{studentToAdd:e},M).then(function(t){return"success"===t.data.result&&n("add"),t.data.result}).catch(function(t){return n("loading",!1),t})},deleteStudent:function(t,e){var n=t.commit;return n("loading",!0),this._vm.axios.post(V+"delete",{id:e},M).then(function(t){return"success"===t.data.result&&n("remove"),t.data.result}).catch(function(t){return n("loading",!1),t})},editStudent:function(t,e){var n=t.commit;return n("loading",!0),this._vm.axios.post(V+"edit",{studentToEdit:e},M).then(function(t){return"success"===t.data.result&&n("edit"),t.data.result}).catch(function(t){return n("loading",!1),t})}},mutations:{load:function(t,e){t.students=e,t.loading=!1},loadStudent:function(t,e){t.student=e,t.loading=!1},add:function(t){t.loading=!1,this.dispatch("student/loadAllStudents")},remove:function(t){t.loading=!1,this.dispatch("student/loadAllStudents")},edit:function(t){t.loading=!1,this.dispatch("student/loadAllStudents")},loading:function(t,e){t.loading=e}}},D="http://"+F+"/Subjects/",B=E,J={namespaced:!0,state:{subjects:{},loading:!1},actions:{loadAllSubjects:function(t){var e=t.commit;return e("loading",!0),this._vm.axios.get(D+"index",B).then(function(t){return e("load",t?t.data.result:{}),"loaded"},function(t){return console.error(t),e("load",{}),"loading failed"+t})},addSubject:function(t,e){var n=t.commit;return n("loading",!0),this._vm.axios.post(D+"add",{subjectToAdd:e},B).then(function(t){return"success"===t.data.result&&n("add"),t.data.result}).catch(function(t){return n("loading",!1),t})},deleteSubject:function(t,e){var n=t.commit;return n("loading",!0),this._vm.axios.post(D+"delete",{id:e},B).then(function(t){return"success"===t.data.result&&n("remove"),t.data.result}).catch(function(t){return n("loading",!1),t})},editSubject:function(t,e){var n=t.commit;return n("loading",!0),this._vm.axios.post(D+"edit",{subjectToEdit:e},B).then(function(t){return"success"===t.data.result&&n("edit"),t.data.result}).catch(function(t){return n("loading",!1),t})}},mutations:{load:function(t,e){t.subjects=e,t.loading=!1},add:function(t){t.loading=!1,this.dispatch("subject/loadAllSubjects")},remove:function(t){t.loading=!1,this.dispatch("subject/loadAllSubjects")},edit:function(t){t.loading=!1,this.dispatch("subject/loadAllSubjects")},loading:function(t,e){t.loading=e}}},Y="http://"+F+"/Timetable/",Z=E,z={namespaced:!0,state:{timeTable:{},studentTimeTable:{},loading:!1},actions:{loadTimeTable:function(t){var e=t.commit;return e("loading",!0),this._vm.axios.get(Y+"index",Z).then(function(t){return e("load",t?t.data.result:{}),"loaded"},function(t){return console.error(t),e("load",{}),"loading failed"+t})},loadReportSearchCritera:function(t,e){var n=t.commit,a=this._vm.$moment(e).toJSON();return n("loading",!0),this._vm.axios.post(Y+"GetTimeTableSearchCritera",{dateToFind:a},Z).then(function(t){return n("load",t?t.data.result:{}),"loaded"},function(t){return console.error(t),n("load",{}),"loadingFailed "+t})},loadTodaysSchedule:function(t,e){var n=t.commit;return n("loading",!0),this._vm.axios.post(Y+"GetStudentsSchedule",{rollNo:e},Z).then(function(t){return n("loadTodaysTimeTable",t?t.data.result:{}),"loaded"}).catch(function(t){return console.error(t),n("loadTodaysTimeTable",{}),t})},addTimeTable:function(t,e){var n=t.commit;return e.StartTime&&(e.StartTime=this._vm.$moment(e.StartTime).toJSON()),e.EndTime&&(e.EndTime=this._vm.$moment(e.EndTime).toJSON()),n("loading",!0),this._vm.axios.post(Y+"add",{timeTableToAdd:e},Z).then(function(t){return"success"===t.data.result&&n("add"),t.data.result}).catch(function(t){return n("loading",!1),t})},deleteTimeTable:function(t,e){var n=t.commit;return n("loading",!0),this._vm.axios.post(Y+"delete",{id:e},Z).then(function(t){return"success"===t.data.result&&n("remove"),t.data.result}).catch(function(t){return n("loading",!1),t})},editTimeTable:function(t,e){var n=t.commit;return e.StartTime&&(e.StartTime=this._vm.$moment(e.StartTime).toJSON()),e.EndTime&&(e.EndTime=this._vm.$moment(e.EndTime).toJSON()),n("loading",!0),this._vm.axios.post(Y+"edit",{timeTableToEdit:e},Z).then(function(t){return"success"===t.data.result&&n("edit"),t.data.result}).catch(function(t){return n("loading",!1),t})}},mutations:{load:function(t,e){t.timeTable=e,t.loading=!1},loadTodaysTimeTable:function(t,e){t.studentTimeTable=e,t.loading=!1},add:function(t){t.loading=!1,this.dispatch("timeTable/loadTimeTable")},remove:function(t){t.loading=!1,this.dispatch("timeTable/loadTimeTable")},edit:function(t){t.loading=!1,this.dispatch("timeTable/loadTimeTable")},loading:function(t,e){t.loading=e}}},G="http://"+F+"/attendance/",H=E,W={namespaced:!0,state:{attendance:{},loading:!1},actions:{recordAttendance:function(t,e){var n=t.commit,a=e.student,o=e.timeTableId;return n("loading",!0),this._vm.axios.post(G+"RecordAttendance",{studentId:a.SId,timeTableId:o},H).then(function(t){return"success"===t.data.result&&n("attendanceRecorded",a.RollNo),n("loading",!1),t.data.result}).catch(function(t){return n("loading",!1),t})},isStudentPresent:function(t,e){var n=t.commit,a=e.studentId,o=e.timeTableId;return n("loading",!0),this._vm.axios.post(G+"IsStudentPresent",{studentId:a,timeTableId:o},H).then(function(t){return!0===t.data.result}).catch(function(t){return console.log(t),!1})},loadAttendanceForTimeTable:function(t,e){var n=t.commit;return n("loading",!0),this._vm.axios.post(G+"GetAttendance",{timeTableId:e},H).then(function(t){return n("load",t?t.data.result:{}),"loaded"},function(t){return console.error(t),n("load",{}),"loadingFailed "+t})}},mutations:{attendanceRecorded:function(t,e){t.loading=!1,this.dispatch("timeTable/loadTodaysSchedule",e)},load:function(t,e){t.attendance=e,t.loading=!1},loading:function(t,e){t.loading=e}}},q=n("mtWM"),K=n.n(q),Q=n("Rf8U"),X=n.n(Q);a.default.use(c.a),a.default.use(X.a,K.a),a.default.config.debug=!0;var tt=new j,et={course:$,faculty:I,student:U,subject:J,timeTable:z,attendance:W};x()(tt.state,w),x()(tt.actions,A),x()(tt.mutations,C),x()(tt.modules,et),tt.middlewares=[];var nt=new c.a.Store(tt),at=n("M4fF"),ot=n.n(at),it=n("NETs"),st=n.n(it),lt=n("zL8q"),dt=n.n(lt),rt=n("wUZ8"),ut=n.n(rt),ct=n("8Go0"),mt=n.n(ct);n("kpSw"),n("tvR6");a.default.config.productionTip=!1,a.default.use(c.a),a.default.use(X.a,K.a),a.default.use(st.a,ot.a),a.default.use(dt.a,{locale:ut.a}),a.default.use(mt.a,{timeout:5e3}),new a.default({el:"#app",framework7:{root:"#app",routes:S},router:S,store:nt,components:{App:i},template:"<App/>"})},PpWl:function(t,e){},ZLYk:function(t,e){},ahDV:function(t,e){},kpSw:function(t,e){},tvR6:function(t,e){},zzfa:function(t,e){}},["NHnr"]);